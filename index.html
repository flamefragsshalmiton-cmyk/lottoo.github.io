<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NEON CASINO | PROMO V9.7</title>
    <style>
        :root {
            --neon-green: #00ff88;
            --neon-blue: #00d4ff;
            --neon-purple: #bc13fe;
            --neon-red: #ff3e3e;
            --bg: #050508;
        }

        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: var(--bg); font-family: 'Segoe UI', sans-serif; color: white; user-select: none; display: flex; justify-content: center; align-items: center; }
        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.2; }

        /* LAYOUT */
        .main-wrapper { display: flex; gap: 20px; width: 1000px; height: 600px; z-index: 10; }

        .chat-sidebar {
            width: 280px; background: rgba(10, 10, 15, 0.9); border: 1px solid #222;
            border-radius: 12px; display: flex; flex-direction: column; overflow: hidden; backdrop-filter: blur(10px);
        }
        #chat-content { flex: 1; padding: 15px; overflow-y: auto; font-size: 12px; text-align: left; }
        .chat-msg { margin-bottom: 10px; border-left: 2px solid var(--neon-purple); padding-left: 10px; }

        .window {
            background: rgba(10, 10, 15, 0.95); border: 1px solid var(--neon-blue);
            border-radius: 12px; padding: 30px; flex: 1;
            text-align: center; box-shadow: 0 0 40px rgba(0, 212, 255, 0.1);
            backdrop-filter: blur(15px); position: relative;
        }

        /* UI ELEMENTS */
        .balance-box { font-size: 42px; color: var(--neon-green); text-shadow: 0 0 15px var(--neon-green); margin-bottom: 5px; font-weight: bold; }
        .bal-up { color: var(--neon-green); text-shadow: 0 0 30px var(--neon-green); }
        .bal-down { color: var(--neon-red); text-shadow: 0 0 30px var(--neon-red); }

        button { background: rgba(0, 212, 255, 0.05); border: 1px solid var(--neon-blue); color: var(--neon-blue); padding: 12px; width: 100%; border-radius: 5px; font-weight: bold; cursor: pointer; text-transform: uppercase; margin-bottom: 10px; transition: 0.2s; }
        button:hover { background: var(--neon-blue); color: black; box-shadow: 0 0 15px var(--neon-blue); }
        
        input { background: #000; border: 1px solid #333; color: white; padding: 12px; width: 85%; border-radius: 5px; text-align: center; margin-bottom: 10px; outline: none; }
        
        .hidden { display: none !important; }
        .promo-area { margin-top: 15px; border-top: 1px solid #222; padding-top: 15px; }

        .footer { position: fixed; bottom: 10px; width: 100%; text-align: center; font-size: 10px; color: #222; }
        .footer span:hover { color: #555; cursor: pointer; }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="main-wrapper">
        <div class="chat-sidebar">
            <div style="background: #111; padding: 12px; font-size: 11px; color: var(--neon-blue);">üì° LIVE FEED</div>
            <div id="chat-content"></div>
        </div>

        <div class="window">
            <div class="balance-box" id="bal-display">$0</div>
            <div style="font-size:11px; color:#444; margin-bottom:20px;">W: <span id="win-stat">0</span> | L: <span id="loss-stat">0</span></div>

            <div id="menu-ui">
                <button onclick="showUI('mines')">üí£ NEON MINES</button>
                <button onclick="showUI('chicken')">üêî CHICKEN FLIP</button>
                <button onclick="showUI('guess')">üî¢ NUMBER GUESS</button>
                
                <div class="promo-area">
                    <input type="text" id="promo-input" placeholder="ENTER PROMO CODE">
                    <button onclick="redeemCode()" style="border-color: var(--neon-purple); color: var(--neon-purple);">REDEEM CODE</button>
                </div>
            </div>

            <div id="mines-ui" class="hidden">
                <input type="text" id="mines-bet" placeholder="Bet">
                <input type="number" id="mines-count" value="3">
                <button onclick="startMines()">START</button>
                <div id="mines-game" class="hidden"><div id="grid" style="display:grid; grid-template-columns:repeat(5,1fr); gap:5px; width:200px; margin:auto;"></div></div>
                <button onclick="showUI('menu')" style="color:red">BACK</button>
            </div>

            <div id="chicken-ui" class="hidden">
                <div id="chick-emo" style="font-size:50px">ü•ö</div>
                <input type="text" id="chick-bet" placeholder="Bet">
                <button onclick="playChicken()">FLIP</button>
                <button onclick="showUI('menu')" style="color:red">BACK</button>
            </div>

            <div id="guess-ui" class="hidden">
                <h1 id="guess-target">?</h1>
                <input type="text" id="guess-bet" placeholder="Bet">
                <input type="number" id="guess-val" placeholder="1-10">
                <button onclick="playGuess()">GUESS</button>
                <button onclick="showUI('menu')" style="color:red">BACK</button>
            </div>

            <div id="admin-ui" class="hidden">
                <h3>ADMIN OVERRIDE</h3>
                <input type="text" id="discord-url" placeholder="Webhook URL">
                <hr style="border:0; border-top:1px solid #333; margin:10px;">
                <input type="text" id="new-code-name" placeholder="Code (e.g. NEON2026)">
                <input type="text" id="new-code-amt" placeholder="Amount (e.g. 50k)">
                <button onclick="createCode()">CREATE PROMO CODE</button>
                <button onclick="showUI('menu')">CLOSE</button>
            </div>
        </div>
    </div>

    <div class="footer">¬© 2026 | <span onclick="showUI('admin')">SECURE_LINK</span></div>

<script>
    let data = JSON.parse(localStorage.getItem('casino_v97')) || { 
        bal: 1000, wins: 0, losses: 0, webhook: "", 
        codes: {"START": 5000}, // Default code
        usedCodes: [] 
    };
    let displayedBal = data.bal;

    function save() {
        localStorage.setItem('casino_v97', JSON.stringify(data));
        animateBalance();
        document.getElementById('win-stat').innerText = data.wins;
        document.getElementById('loss-stat').innerText = data.losses;
    }

    // --- DISCORD WEBHOOK ---
    async function notifyDiscord(title, msg, color = 0x00d4ff) {
        if (!data.webhook) return;
        const payload = {
            embeds: [{
                title: title,
                description: msg,
                color: color,
                fields: [{ name: "Current Balance", value: `$${new Intl.NumberFormat().format(data.bal)}` }],
                timestamp: new Date()
            }]
        };
        fetch(data.webhook, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
    }

    // --- CODE SYSTEM ---
    function redeemCode() {
        let input = document.getElementById('promo-input').value.toUpperCase().trim();
        if (data.usedCodes.includes(input)) return alert("Code already used!");
        
        if (data.codes[input]) {
            let amt = data.codes[input];
            data.bal += amt;
            data.usedCodes.push(input);
            addChat("SYSTEM", `Promo Code ${input} redeemed for $${new Intl.NumberFormat().format(amt)}!`);
            notifyDiscord("üé´ CODE REDEEMED", `User redeemed code **${input}** for **$${new Intl.NumberFormat().format(amt)}**`, 0xbc13fe);
            document.getElementById('promo-input').value = "";
            save();
        } else {
            alert("Invalid Code");
        }
    }

    function createCode() {
        let name = document.getElementById('new-code-name').value.toUpperCase().trim();
        let amt = parse(document.getElementById('new-code-amt').value);
        if (name && amt > 0) {
            data.codes[name] = amt;
            save();
            alert(`Code ${name} created for $${amt}`);
        }
    }

    // --- ANIMATION & UTILS ---
    function animateBalance() {
        const el = document.getElementById('bal-display');
        const diff = data.bal - displayedBal;
        if (diff === 0) return;
        diff > 0 ? el.className = 'balance-box bal-up' : el.className = 'balance-box bal-down';
        let count = 0;
        const interval = setInterval(() => {
            count++;
            displayedBal += diff / 15;
            el.innerText = `$${new Intl.NumberFormat().format(Math.floor(displayedBal))}`;
            if (count >= 15) {
                clearInterval(interval);
                displayedBal = data.bal;
                el.innerText = `$${new Intl.NumberFormat().format(data.bal)}`;
                el.className = 'balance-box';
            }
        }, 40);
    }

    function addChat(u, m) {
        const c = document.getElementById('chat-content');
        const d = document.createElement('div');
        d.className = 'chat-msg';
        d.innerHTML = `<b>${u}</b>: ${m}`;
        c.appendChild(d);
        c.scrollTop = c.scrollHeight;
    }

    function parse(v) {
        let s = v.toString().toLowerCase().replace(/[, ]/g, ''); 
        let n = parseFloat(s.replace(/[^0-9.]/g, ''));
        if (s.includes('k')) n *= 1e3;
        if (s.includes('m')) n *= 1e6;
        if (s.includes('b')) n *= 1e9;
        return Math.floor(n) || 0;
    }

    function showUI(id) {
        ['menu-ui','chicken-ui','guess-ui','mines-ui','admin-ui'].forEach(u => document.getElementById(u).classList.add('hidden'));
        document.getElementById(id + '-ui').classList.remove('hidden');
    }

    // Initial Load
    document.getElementById('bal-display').innerText = `$${new Intl.NumberFormat().format(data.bal)}`;
    addChat("SYSTEM", "Promo Engine v9.7 Online. Use code 'START' for $5,000.");
</script>
</body>
</html>
